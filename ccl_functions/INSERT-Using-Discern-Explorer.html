
<!DOCTYPE html>

<html lang="en-US">
<head>
<!-- Start SiteCatalyst code --><!-- End SiteCatalyst code -->


<title>INSERT Using Discern Explorer - Discern Help Pages - Cerner Wiki</title>






























<style>.ia-fixed-sidebar, .ia-splitter-left {width: 285px;}.theme-default .ia-splitter #main {margin-left: 285px;}.ia-fixed-sidebar {visibility: hidden;}</style>



</head>
<body class="theme-default aui-layout aui-theme-default" id="com-atlassian-confluence">
<div id="stp-licenseStatus-banner"></div>
<div id="workflow-page-status" style="display: none;"><fieldset class="hidden parameters">
<input id="stateName" type="hidden" value="Published"/><input id="hoverDescription" type="hidden" value="Published"/><input id="finalState" type="hidden" value="true"/><input id="hasFinalState" type="hidden" value="true"/><input id="publishedView" type="hidden" value="true"/><input id="taskable" type="hidden" value="false"/><input id="activeTasks" type="hidden" value="0"/><input id="pageAssignable" type="hidden" value="false"/><input id="workflowAdmin" type="hidden" value="false"/><input id="anonymous" type="hidden" value="true"/><input id="alternateViewStateName" type="hidden" value="View"/><input id="alternateViewUrl" type="hidden" value="/display/1101discernHP/INSERT+Using+Discern+Explorer?draft=true"/><input id="activityVisible" type="hidden" value="true"/><input id="approvalMinQuery" type="hidden" value="5"/><input id="showDocumentActivity" type="hidden" value="true"/><input id="alternateViewTitle" type="hidden" value="View latest version of page"/></fieldset></div>
<div style="display: none;"></div>









































<!-- CTSSOL-29742: Add Page To Book -->


<div id="page">
<div id="full-height-container">


<div class="ia-splitter">

<!-- \#header -->
<main class="aui-page-panel" id="main" role="main">
<!-- \#main-header -->
<div id="sidebar-container">
</div><!-- \#sidebar-container -->


<div class="page view" id="content">
<div id="action-messages">
</div>






<div class="wiki-content" id="main-content">
<div class="wiki-content">
<p>The INSERT command allows you to insert rows into a table. Only authorized <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Oracle</span> personnel should use the INSERT command on <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Oracle</span> production tables. Your RDBMS sign-on controls what tables you have INSERT privileges on.</p><p>To INSERT rows on a non-RDBMS table, you must issue a DEFINE command with the MODIFY option to allow updates to the file; otherwise, the file is opened as read-only.</p><p>The FROM or INTO clause is required when using the INSERT command. You can insert into only one table at a time.</p><p>Use the PLAN/JOIN clauses to control the path of the joins between one or more non-RDBMS tables. When inserting into an RDBMS table, you can PLAN on the DUMMYT table and JOIN to the RDBMS table to insert values into the table with values from a record structure. When inserting into an RDBMS table, you can PLAN on a non-RDBMS table and JOIN to the RDBMS table to qualify specific rows on the RDBMS table for insert. Values from the non-RDBMS table can be used in the SET clause to insert the values into the RDBMS table. Only a single RDBMS table can be referenced in the INSERT command. A nested SELECT statement that references additional RDBMS tables can be used in the SET clause or the WHERE clause of the INSERT command.</p><p>The INSERT command requires the use of the SET clause to insert values into columns in a non-RDBMS table. The SET clause, a list of field names followed by a VALUES() clause, or a list of field names followed by a subquery that returns the values to assign to the fields can be used to insert values into columns in an RDBMS table.</p><p>The COMMIT command must be used after the INSERT command to an RDBMS table to log the changes as permanent. Alternately, the ROLLBACK command can be used to cancel or back out the changes to an RDBMS table. <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Oracle</span> scripts that perform inserts should set the COMMIT_IND field on the ReqInfo record structure to have the server commit or rollback the changes.</p><p>Most <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Oracle</span> production tables contain several fields with names that begin with UPDT_. Generally these UPDT_* fields track who, what, and when created or last modified the table row. These UPDT_* fields are generally set when the row is inserted into the table. In rare cases, the UPDT_* fields can be used for another purpose. Work with the <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Oracle</span> team that owns the table to determine how the UPDT_* fields should be set when performing inserts on <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Oracle</span> production tables. The following chart shows some of the common UPDT_* fields and general guidelines for setting them in an Insert statement:</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/><col/></colgroup><tbody><tr><th class="confluenceTh" scope="row"><p>Field Name</p></th><th class="confluenceTh"><p>Description</p></th><th class="confluenceTh"><p>General Guideline for Setting</p></th></tr><tr><th class="confluenceTh" scope="row"><p>UPDT_ID</p></th><td class="confluenceTd"><p>Person_ID that inserted the row</p></td><td class="confluenceTd"><p>Reqinfo-&gt;updt_id</p></td></tr><tr><th class="confluenceTh" scope="row"><p>UPDT_DT_TM</p></th><td class="confluenceTd"><p>Date and time the row was inserted</p></td><td class="confluenceTd"><p>Cnvtdatetime(curdate,curtime3)</p></td></tr><tr><th class="confluenceTh" scope="row"><p>UPDT_CNT</p></th><td class="confluenceTd"><p>Number of times the row has been updated</p></td><td class="confluenceTd"><p>0</p></td></tr><tr><th class="confluenceTh" scope="row"><p>UPDT_TASK</p></th><td class="confluenceTd"><p>Task that inserted the row</p></td><td class="confluenceTd"><p>Reqinfo-&gt;updt_task</p></td></tr><tr><th class="confluenceTh" scope="row"><p>UPDT_APPLCTX</p></th><td class="confluenceTd"><p>Application context that inserted the row</p></td><td class="confluenceTd"><p>Reqinfo-&gt;updt_applctx</p></td></tr></tbody></table></div><p><br class="atl-forced-newline">The preceding table is not an exhaustive list. Review the table definition of each table to determine what UPDT_* fields exist and work with the <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Oracle</span> team that owns the table to determine how to set each field.</br></p><p>Only authorized <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Oracle</span> personnel should use the INSERT command on <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Oracle</span> production tables.</p><h2 id="INSERTUsingDiscernExplorer-Syntax">Syntax</h2><div class="preformatted panel conf-macro output-block" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>INSERT
[FROM/INTO table_name [alias] {,table_name [alias]}]
[SET	field_name = expression
	{,field_name = expression}]
[(field_name{,field_name} VALUES(expression{,expression}]

[(field_name{,field_name}) (subquery)]

 [PLAN range [WHERE qualification]
	{join_operator range [WHERE qualification]}]
WITH	insert_option
GO
</pre>
</div></div><h2 id="INSERTUsingDiscernExplorer-Metasymbols">Metasymbols</h2><p><em>alias</em><br/>The abbreviated name of a table to be used in place of the table name when referencing the table in any part of the DELETE, INSERT, SELECT, or UPDATE commands.</p><p><em>expression</em><br/>An expression is the highest-level metasymbol among constants, field names, variables, and so on. The following expressions are valid:</p><div class="preformatted panel conf-macro output-block" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>alias.field_name
array_name [dimension]
array_name [dimension1, dimension2]
array_name [dimension1, dimension2, dimension3]
constant
expression arithmetic_operator expression
-expression
(expression)
function(expression{,expression})
parameter
record_name{-&gt;field_name}
table_name.field_name
variable
</pre>
</div></div><div class="confluence-information-macro confluence-information-macro-information conf-macro output-block" data-hasbody="true" data-macro-name="info"><p class="title conf-macro-render">Note</p><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Square brackets are part of the array_name syntax; they do not indicate an optional part of the syntax.</p></div></div><p><em>field_name</em><br/>The name of the table and field, or table alias and field.</p><p><em>insert_option</em><br/>Valid actions you can take when issuing an INSERT command. The following INSERT options are valid:<span class="conf-macro output-inline" data-hasbody="true" data-macro-name="table-plus"><div class="table-wrap"><table class="confluenceTable" id="TBL1750483362142"><colgroup class=""><col class=""/><col class=""/></colgroup><tbody class=""><tr class=""><th class="confluenceTh"><p>Option</p></th><th class="confluenceTh"><p>Description</p></th></tr><tr class=""><th class="confluenceTh"><p>CHECK</p></th><td class="confluenceTd"><p>Checks for invalid or unacceptable data and corrects it by setting the data in a character field to blank, setting the data in a numeric field to zero, or treating an invalid pack digit in a packed field as zero. Only applies to inserts on non-RDBMS tables.</p></td></tr><tr class=""><th class="confluenceTh"><p>CLEAR</p></th><td class="confluenceTd"><p>When a new record is written, the bytes in each field are initialized with the character defined using the CLEAR option. The syntax of this option is: WITH CLEAR [ = "<em>character</em>"], where character can be any number, letter, or special character, or no character. To make a null field, set the CLEAR option to double quotes with no character between the quotes (""). The default clear character is a blank. Only applies to inserts on non-RDBMS tables.</p></td></tr><tr class=""><th class="confluenceTh"><p>[NO]COUNTER</p></th><td class="confluenceTd"><p>Displays the query counter (COUNTER) or does not display the query counter (NOCOUNTER). NOCOUNTER is the default.</p></td></tr><tr class=""><th class="confluenceTh"><p>DONTCARE = alias</p></th><td class="confluenceTd"><div class="content-wrapper"><p>If you are joining to another table and the table to which you are joining does not match on a record, <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span> continues processing.</p></div></td></tr><tr class=""><th class="confluenceTh"><p>DONTEXIST</p></th><td class="confluenceTd"><p>Performs the INSERT only if you are joining to another non-RDBMS table and a record does not exist on the table to which you are joining. Applies to the outerjoin defined using the WITH OUTERJOIN option.</p></td></tr><tr class=""><th class="confluenceTh"><p>EXPAND = 1/0</p></th><td class="confluenceTd"><p>Allows the EXPAND() function to pass an IN clause in the query to the RDBMS or use a global RDBMS temp table instead of the IN clause. <br class="atl-forced-newline"/>EXPAND = 0 is the default and creates an IN clause. <br class="atl-forced-newline"/>EXPAND = 1 inserts the values from the record member list to the global RDBMS temp table and then performs an implicit join to that temp table.</p></td></tr><tr class=""><th class="confluenceTh"><p>MAXCOMMIT = commit_interval</p></th><td class="confluenceTd"><p>Only applies to INSERT, UPDATE, or DELETE commands using a record structure and the DUMMYT table to perform the implicit iteration. Otherwise is ignored. <br class="atl-forced-newline"/>Issues a COMMITat the specified commit_interval. Used in conjunction with the INSERT, UPDATE, or DELETE commands. When the number of modified rows equals the commit_interval, the commit is performed. A final commit must be executed after the INSERT, UPDATE, or DELETE command that uses MAXCOMMIT to commit the changes that are made between the MAXCOMMIT and the end of the INSERT, UPDATE, or DELETE. If the INSERT, UPDATE, or DELETE is executed through a server, the final commit should be executed by the server using the reqinfo-&gt;commit_ind. Otherwise, the COMMIT command can be used for the final commit. When using MAXCOMMIT = commit_interval and RDBARRAYINSERT = array_size in the same INSERT, UPDATE, or DELETE command, the commit_interval should be greater than or equal to the array_size.</p></td></tr><tr class=""><th class="confluenceTh"><p>MAXQUAL (table_name,integer)</p></th><td class="confluenceTd"><p>Limits the number of records to qualify per join on non-RDBMS queries.</p></td></tr><tr class=""><th class="confluenceTh"><p>MAXREAD (table_name,integer)</p></th><td class="confluenceTd"><p>Limits the number of records read per table and is used only when you are joining two or more tables. The table_name can be the name or alias of the table you are reading. The integer is the number of matches that represents the maximum number of physical records to be processed. Only applies for inserts on non-RDBMS tables.</p></td></tr><tr class=""><th class="confluenceTh"><p>MAXREC = integer</p></th><td class="confluenceTd"><div class="content-wrapper"><p>Limits the number of records processed in the primary table, where integer is the number of matches that represents the maximum number of physical records to be processed. If a join is being used, the primary table is the first table read by <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span>. This option is only supported for non-RDBMS tables.</p></div></td></tr><tr class=""><th class="confluenceTh"><p>OUTERJOIN = DUMMYT_name</p></th><td class="confluenceTd"><p>You can use OUTERJOIN with the DONTEXIST option to create new records on the non-RDBMS table to which you are joining, when that table does not originally have a record to which you can join; the DUMMYT_name can be the name or alias of the DUMMYT table.</p></td></tr><tr class=""><th class="confluenceTh"><p>RDBARRAYINSERT= <em>array_size</em></p></th><td class="confluenceTd"><div class="content-wrapper"><p>Introduced in version 8.10.0 of <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span>. Controls the insert method when using the DUMMYT table to insert values from a record structure list into a table. <br class="atl-forced-newline"/><br class="atl-forced-newline"/><em>array_size</em> <br class="atl-forced-newline"/>0: Do not use the RDB array insert method. Instead, insert one row at a time. <br class="atl-forced-newline"/>1: Use the RDB array insert method with an array size matching the Set Trace RDBARRAYINSERT value. <br class="atl-forced-newline"/><em>num</em>: use RDB array insert with an array size of <em>num</em>. An array size up to a maximum of 100 can be used for <em>num</em>. In <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span> version 8.10.2 and later, an array size of 50 will be used if <em>num</em> is less than 50. <br class="atl-forced-newline"/><br class="atl-forced-newline"/>A limit of 2000 characters exist for each column that is inserted using RDBARRAYINSERT. Attempting to insert a value that is larger than 2000 characters will cause the value to be truncated to the first 2000 characters. <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span> version 8.12.0 will generate a warning if a column is truncated and warnings are enabled.</p><p>If the Insert involves a BLOB\CLOB column the RDBARRAYINSERT will revert back to the single row operation.</p><p>Prior to <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span> version 8.17.6 / 9.05.6, if the Insert uses an IF expression in the Set clause, the RDBARRAYINSERT will revert back to the single row operation. Wrapping the IF expression in Evaluate2() or replacing the IF with the Evaluate() function will allow the RDBARRAYINSERT method to be used.</p><p>When using MAXCOMMIT = commit_interval and RDBARRAYINSERT = array_size in the same INSERT, UPDATE, or DELETE command, the commit_interval should be greater than or equal to the array_size.</p></div></td></tr><tr class=""><th class="confluenceTh"><p>RDBRANGE</p></th><td class="confluenceTd"><div class="content-wrapper"><p>To determine the order of the FROM clause in the query that is sent to the RDBMS, use the FROM clause of the <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span> query instead of the PLAN/JOIN clause. Used in conjunction with the SELECT, UPDATE, INSERT, and DELETE commands.</p></div></td></tr><tr class=""><th class="confluenceTh"><p>SKIPBEDROCK = 0/1</p></th><td class="confluenceTd"><div class="content-wrapper"><p>In a <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Bedrock</span> domain, SELECT, UPDATE, INSERT, and DELETE commands on tables that have the BR_CLIENT_ID column implicitly add the BR_CLIENT_ID = CURCLIENTID qualification to the WHERE clause. SKIPBEDROCK = 0 is the default and uses the implicit qualification. SKIPBEDROCK = 1 disables the implicit qualification. RDB commands do not use this implicit qualification.</p></div></td></tr><tr class=""><th class="confluenceTh"><p>SKIPLOGDOMAIN = 0/1</p></th><td class="confluenceTd"><div class="content-wrapper"><p>Introduced in version 8.8.0 of <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span>. In a logical client domain, INSERT commands on tables that have the LOGICAL_DOMAIN_ID column implicitly add the LOGICAL_DOMAIN_ID = CURLOGDOMAINID qualification to the Where clause. SKIPLOGDOMAIN = 0 is the default and uses the implicit qualification. SKIPLOGDOMAIN = 1 disables the implicit qualification. RDB commands do not use this implicit qualification.</p></div></td></tr><tr class=""><th class="confluenceTh"><p>SKIPNETDOMAIN = 0/1</p></th><td class="confluenceTd"><div class="content-wrapper"><p><span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span> version 8.8.0 obsoleted SKIPNETDOMAIN and replaced it with SKIPLOGDOMAIN. In a Network domain, SELECT, UPDATE, INSERT, and DELETE commands on tables that have the DOMAIN_NETWORK_ID column implicitly add the DOMAIN_NETWORK_ID = CURNETDOMAINID qualification to the WHERE clause. SKIPNETDOMAIN = 0 is the default and uses the implicit qualification. SKIPNETDOMAIN = 1 disables the implicit qualification. RDB commands do not use this implicit qualification.</p></div></td></tr><tr class=""><th class="confluenceTh"><p>SIZE = integer</p></th><td class="confluenceTd"><p>Sets the length of the record to be written for variable length files or bar code labels; the integer is the length to which the record should be modified (the default size is the maximum record length). Only applies for inserts on non-RDBMS tables.</p></td></tr><tr class=""><th class="confluenceTh"><p>STATUS( &lt;status_item&gt;[, &lt;errnum_item&gt;[, &lt;errmsg_item&gt;]])</p></th><td class="confluenceTd"><p>Saves the status of the insert into the record items when joining to a record structure list using the DUMMYT table.</p><p>By default, the status_item, defined as an integer, is set to 1 (success) or 0 (failure) for the inserts. The errnum_item, defined as an integer, is set equal to the error number if the insert generates an error. The errmsg_item, defined as character, is set equal to the error message if the insert generates an error. Items are pulled from each position in the record structure and inserted into the table. The status items are set on each position of the record structure. </p><p>When using RDBARRAYINSERT= array_size:</p><ul><li><strong>0: </strong>The insert is performed and the status_item, errnum_item, and errmsg_item are set on each position of the Record Structure list. The status_item is set to 1 (success) or 0 (failure).</li><li><strong>1:</strong> A block of records the size of the Set Trace RDBARRAYINSERT = array_size value are pulled from the Record Structure and inserted into the table. The status items are set on each position of the Record Structure list that is a multiple of the Set Trace RDBARRAYINSERT = array_size value. The status_item is set to the number of rows that were inserted. If the number of items in the Record Structure is not a multiple of the Set Trace RDBARRAYINSERT = array_size value, no status is set for the values from positions of the Record Structure that are greater than the last position of the Record Structure that is a multiple of the Set Trace RDBARRAYINSERT = array_size value.</li><li style="font-style: italic;"><em><strong>num:</strong> A block of records the size of num are pulled from the Record Structure and inserted into the table. The status items are set on each position of the Record Structure list that is a multiple of num. The status_item is set to the number of rows that were inserted. If the number of items in the Record Structure is not a multiple of num, no status is set for the values from positions of the Record Structure that are greater than the last position of the Record Structure that is a multiple of num.</em></li></ul><p><em> </em></p></td></tr><tr class=""><th class="confluenceTh"><p>[NO]TRIM</p></th><td class="confluenceTd"><p>Automatically trims trailing spaces on character string columns before sending to the RDBMS. Use NOTRIM to keep trailing spaces.</p></td></tr></tbody></table></div>

</span><em style="letter-spacing: 0.0px;">join_operator</em></p><p>In the context of a PLAN clause, defines whether <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span> performs a linear read between tables (JOIN), or performs a union of two tables (ORJOIN). Valid values are JOIN and ORJOIN.</p><p><em>qualification</em><br/>A condition that limits the number of records displayed as valid matches. Qualifications can include IF, IN, and CASE statements and can be combined using the qualifiers AND, OR, NOT, and BETWEEN. Relational operators are used to define the condition. The syntax for qualification follows:</p><div class="preformatted panel conf-macro output-block" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>(qualification)
NOT qualification
qualification AND qualification
qualification OR qualification
expression relational_operator expression
expression relational_operator subquery
</pre>
</div></div><p><em>subquery</em><br/>A nested select statement that returns the values to be inserted into the fields list.</p><p><em>table_name</em><br/>The name of the table from the <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span> Data Dictionary to be updated, deleted, or read.</p><h2 id="INSERTUsingDiscernExplorer-Examples">Examples</h2><p>The following examples illustrate different ways to use INSERT:</p><p>To insert a row in a non-RDBMS table named TABLE_X:</p><div class="preformatted panel conf-macro output-block" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>DEFINE TABLE_X IS "TABLE_X.DAT" WITH MODIFY

INSERT INTO TABLE_X  T
SET	T.NAME =  "SMITH, FRED E.",
	T.PERSON_ID = 12345.0
WITH	CLEAR = ""
</pre>
</div></div><p>To insert rows from the PERFORM_RESULT table, which contain results that have been verified since yesterday, at the current time into an RDBMS table named TESTPR:</p><div class="preformatted panel conf-macro output-block" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>INSERT INTO TESTPR T
	(T.ENCNTR_ID, T.ORDER_ID, T.PERFORM_RESULT_ID,
	T.NAME, T.ORDER_MNEMONIC,
	T.RESULT_VALUE_NUMERIC,
	T.RESULT_VALUE_ALPHA, T.PERFORM_DT_TM)

( SELECT
	O.ENCNTR_ID, O.ORDER_ID, PR.PERFORM_RESULT_ID,
	NAME = SUBSTRING(1,15,P.NAME_FULL_FORMATTED),
	ORDER_MNEMONIC = SUBSTRING(1,10,O.ORDER_MNEMONIC),
	PR.RESULT_VALUE_NUMERIC, PR.RESULT_VALUE_ALPHA,
	PR.PERFORM_DT_TM

FROM	PERSON P,
	ORDERS O,
	RESULT R,
	PERFORM_RESULT PR

WHERE	O.PERSON_ID = P.PERSON_ID

AND R.ORDER_ID = O.ORDER_ID
	AND PR.RESULT_STATUS_CD = VERIFIED_VAR
	AND PR.RESULT_ID = R.RESULT_ID
	AND PR.PERFORM_DT_TM &gt;
			CNVTDATETIME(CURDATE-1,CURTIME3) )
</pre>
</div></div><p>The following example inserts values from a record structure named Temp_Rec into a custom RDBMS table named Cust_Extnd_Manual:</p><div class="preformatted panel conf-macro output-block" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>INSERT INTO
    CUST_EXTND_MANUAL E,
    (DUMMYT D WITH SEQ = SIZE(TEMP_REC-&gt;LIST,5))
SET  E.CUST_EXTND_MANUAL_ID = SEQ( CUST_EXTND_MANUAL_SEQ, NEXTVAL),
        E.ITEM_NAME = CNVTUPPER(TEMP_REC-&gt;LIST[D.SEQ ]-&gt;ITEM_NAME),
        E.ITEM_TYPE = TEMP_REC-&gt;LIST[D.SEQ ]-&gt;ITEM_TYPE,
        E.ACTIVE_IND = TEMP_REC-&gt;LIST[D.SEQ ]-&gt;ACTIVE_IND,
        E.UPDT_DT_TM = CNVTDATETIME(CURDATE,CURTIME3),
        E.UPDT_ID = REQINFO-&gt;UPDT_ID,
        E.UPDT_TASK = REQINFO-&gt;UPDT_TASK,
        E.UPDT_APPLCTX = REQINFO-&gt;UPDT_APPLCTX,
        E.UPDT_CNT = 0
PLAN D
JOIN E
WITH NOCOUNTER,RDBARRAYINSERT = 1</pre>
</div></div><p>To INSERT a row in the custom non-RDBMS table named PERS_TEMP, the following syntax opens the data file with modify privileges and inserts new rows into the file:</p><div class="preformatted panel conf-macro output-block" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>FREE DEFINE PERS_TEMP
DEFINE PERS_TEMP IS "PERS_TEMP" WITH MODIFY
INSERT INTO PERS_TEMP P

SET	P.NAME_LAST = "SMITH",
	P.NAME_FIRST = "JOE"
WITH NOCOUNTER
</pre>
</div></div><p>The RDBMS only allows using a single table in an INSERT command. To insert data into one RDBMS table from another RDBMS table, a nested SELECT command can be used along with the fields list. The following example inserts rows into the custom RDBMS table named CUST_PERSON using a fields list and a nested subquery.</p><div class="preformatted panel conf-macro output-block" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>INSERT INTO CUST_PERSON
	(PERSON_ID, UPDT_DT_TM, NAME)
		(SELECT
			PERSON_ID= P.PERSON_ID,
			UPDT_DT_TM = CNVTDATETIME(CURDATE-1,CURTIME3),
			NAME = SUBSTRING(1,20,P.NAME_FULL_FORMATTED)
    	FROM PERSON P
    	WHERE P.PERSON_ID BETWEEN  744323.0 AND 744333.0
    	WITH NOCOUNTER)
</pre>
</div></div><p>The following example uses the SEQ() function and a custom RDBMS sequence to set the ID field when inserting rows into a custom RDBMS table:</p><div class="preformatted panel conf-macro output-block" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>INSERT INTO CUST_TABLE C
	(C.ID, C.DT, C.NAME)
	(SELECT
	  SEQ(PERSON_CUSTOM_SEQ,NEXTVAL),;SEQUENCE NUMBER
	  CNVTDATETIME(CURDATE,CURTIME3),
	  CNVTUPPER(P.NAME_LAST)
    	FROM PERSON P
    	WHERE P.UPDT_DT_TM &gt; CNVTDATETIME(CURDATE -2,0)
    	WITH NOCOUNTER)
</pre>
</div></div><p>The following example inserts a row into the custom RDBMS table named CUST_PERSON using a fields list and a VALUES clause:</p><div class="preformatted panel conf-macro output-block" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>INSERT INTO CUST_PERSON
	(PERSON_ID, UPDT_DT_TM, NAME)
		VALUES(12345.0,
			CNVTDATETIME(CURDATE,CURTIME3),
			"Smith, John")
    	WITH NOCOUNTER
</pre>
</div></div><p>The following example inserts rows from a custom non-RDBMS table named 1CCL_TABLE into a custom RDBMS table named CUST_CCL_TABLE:</p><div class="preformatted panel conf-macro output-block" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>INSERT INTO CUST_CCL_TABLE C
		,1CCL_TABLE B
	SET C.ID = B.ID
	, C.UPDT_DT_TM = CNVTDATETIME(B.DT)
	, C.NAME = B.NAME_FULL
PLAN B
JOIN C
WITH NOCOUNTER
</pre>
</div></div><p>The following example inserts values from a record structure named REC into a custom RDBMS table named CUST_CCL_TABLE and sets the status, error_num, and error_msg items in the record structure:</p><div class="preformatted panel conf-macro output-block" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>record rec(
    1 list[*]
        2 pid = f8
        2 name = vc
        2 status = i4
        2 error_num = i4
        2 error_msg = c132
        ) with protect

/* code to insert values into rec-&gt;list[ ].pid and rec-&gt;list[ ].name  */

insert into cust_ccl_table c
    ,(dummyt d with seq = size(rec-&gt;list,5))
    set c.pid = rec-&gt;list[d.seq].pid
        ,c.name = rec-&gt;list[d.seq].name
plan d
join c 
with status(rec-&gt;list[d.seq].status 
        ,rec-&gt;list[d.seq].error_num 
        ,rec-&gt;list[d.seq].error_msg )


</pre>
</div></div>
</div>
</div>



</div>

</main><!-- \#main -->
</div>
</div>
</div><!-- \#full-height-container -->
<!-- \#page -->
<span id="confluence-server-performance" style="display:none;">{"serverDuration": 713, "requestCorrelationId": "4e8e542229f2297f"}</span>
</body>
</html>
