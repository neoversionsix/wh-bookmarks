
<!DOCTYPE html>

<html lang="en-US">
<head>
<!-- Start SiteCatalyst code --><!-- End SiteCatalyst code -->


<title>CNVTDATETIMERDB Using Discern Explorer - Discern Help Pages - Cerner Wiki</title>



























<style>.ia-fixed-sidebar, .ia-splitter-left {width: 285px;}.theme-default .ia-splitter #main {margin-left: 285px;}.ia-fixed-sidebar {visibility: hidden;}</style>



</head>
<body class="theme-default aui-layout aui-theme-default" id="com-atlassian-confluence">
<div id="stp-licenseStatus-banner"></div>
<div id="workflow-page-status" style="display: none;"><fieldset class="hidden parameters">
<input id="stateName" type="hidden" value="Published"/><input id="hoverDescription" type="hidden" value="Published"/><input id="finalState" type="hidden" value="true"/><input id="hasFinalState" type="hidden" value="true"/><input id="publishedView" type="hidden" value="true"/><input id="taskable" type="hidden" value="false"/><input id="activeTasks" type="hidden" value="0"/><input id="pageAssignable" type="hidden" value="false"/><input id="workflowAdmin" type="hidden" value="false"/><input id="anonymous" type="hidden" value="true"/><input id="alternateViewStateName" type="hidden" value="View"/><input id="alternateViewUrl" type="hidden" value="/display/1101discernHP/CNVTDATETIMERDB+Using+Discern+Explorer?draft=true"/><input id="activityVisible" type="hidden" value="true"/><input id="approvalMinQuery" type="hidden" value="5"/><input id="showDocumentActivity" type="hidden" value="true"/><input id="alternateViewTitle" type="hidden" value="View latest version of page"/></fieldset></div>
<div style="display: none;"></div>









































<!-- CTSSOL-29742: Add Page To Book -->


<div id="page">
<div id="full-height-container">


<div class="ia-splitter">

<!-- \#header -->
<main class="aui-page-panel" id="main" role="main">
<!-- \#main-header -->
<div id="sidebar-container">
</div><!-- \#sidebar-container -->


<div class="page view" id="content">
<div id="action-messages">
</div>






<div class="wiki-content" id="main-content">
<div class="wiki-content">
<p>CNVTDATETIMERDB() converts datetime expressions to and from UTC. If the function is used in the where clause for an RDBMS table, then all three arguments are required.</p><p>Beginning with <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span> version 8.7.2, CNVTDATETIMERDB() ignores fractional seconds.</p><h2 id="CNVTDATETIMERDBUsingDiscernExplorer-Syntax">Syntax</h2><div class="preformatted panel conf-macro output-block" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>cnvtdatetimeRDB(datetime|datetime_string, [option [,timezone_index]])</pre>
</div></div><h2 id="CNVTDATETIMERDBUsingDiscernExplorer-Metasymbols">Metasymbols</h2><p><code><em>datetime</em></code></p><p>A date time value.</p><p><code><em>datetime_string</em></code></p><p>A character string that represents a date or date, and time in the format of dd-mmm[mmmmmmmmm]-yyyy [hh:mm:ss.cc].</p><p>The time component is optional and can be in any of the following formats:</p><ul><li>hh</li><li>hh:mm</li><li>hh:mm:ss</li><li>hh:mm:ss.cc </li></ul><p>The .cc can be used, but it is ignored.</p><p>Before version 8.10.0 of <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span>, the month must be a three character month abbreviation. Beginning with version 8.10.0 of <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span>, the month can be either a three-character abbreviation or the full name. Before <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span> versions 8.16.0|9.04.0 the first three characters of the month abbreviation or full month name must match one of the values in the CURLOCALE("MONTHABBREV") string. CNVTDATETIMEUTC() performs a case and accent insensitive comparison of the first three characters of the month abbreviation or full month name to the CURLOCALE("MONTHABBREV") string to determine the month. If a match is not found, the month with the closest match is returned. Beginning in <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span> versions 8.16.0|9.04.0, if the first three characters of the month abbreviation or full month name do not match one of the values in the CURLOCALE("MONTHABBREV") string, the first four characters of the month abbreviation or full month name is compared to the values in the CURLOCALE("MONTHABBREV2") string. If a match is not found, the full month name is compared to the values in the CURLOCALE("MONTFULL") string. If a match is still not found, the month with the closest match is returned.</p><p><code><em>option</em></code></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh"><p>Option</p></th><th class="confluenceTh"><p>Description</p></th></tr><tr><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>No action; return the <code>datetime</code> with no conversion</p></td></tr><tr><td class="confluenceTd"><p>1</p></td><td class="confluenceTd"><p>Convert the<code> datetime</code> from local to UTC if UTC mode is on, else return as is</p></td></tr><tr><td class="confluenceTd"><p>2</p></td><td class="confluenceTd"><p>Convert the <code>datetime</code> from UTC to local if UTC mode is on, else return as is</p></td></tr><tr><td class="confluenceTd"><p>3</p></td><td class="confluenceTd"><p>Convert the <code>datetime</code> from local to UTC regardless of UTC mode</p></td></tr><tr><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>Convert the <code>datetime</code> from UTC to local regardless of UTC mode</p></td></tr></tbody></table></div><p><em>timezone_index</em></p><p>Index number of the time zone to use for the conversion. Defaults to local time zone. This option allows emulating another target time zone for <code>datetime</code> conversions. When used, time zone_index temporarily sets the time zone before any other processing occurs in the function.</p><h2 id="CNVTDATETIMERDBUsingDiscernExplorer-Examples">Examples</h2><p>The following example converts the UTC <code>datetime</code> to a local <code>datetime</code> if UTC mode is on:</p><div class="preformatted panel conf-macro output-block" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>set Aus = DATETIMEZONEBYNAME("Australia/Sydney") 
set Lon = DATETIMEZONEBYNAME("Europe/London")
select into "NL:"
	p.updt_dt_tm
from person p
where p.updt_dt_tm between cnvtdatetimerdb(sysdate,2,Aus)
		and cnvtdatetimerdb(sysdate,2,Lon)
with nocounter
</pre>
</div></div><p>The following examples convert the UTC <code>datetime</code> to a local <code>datetime</code> if UTC mode is on:</p><div class="preformatted panel conf-macro output-block" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>set dt_var = cnvtdatetimeRDB(cnvtdatetime(curdate,curtime3),2)
set dt_var = cnvtdatetimeRDB(sysdate,2)
</pre>
</div></div><p>The following examples convert the UTC <code>datetime</code> to a local <code>datetime</code> in the specific time zone, regardless of UTC mode:</p><div class="preformatted panel conf-macro output-block" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>record rec (
  1 Loc = dq8	
  1 Aus = dq8   
  1 HK  = dq8   
  1 Lon = dq8   
  1 NY  = dq8   
  1 LA  = dq8   
) 
set Aus = DATETIMEZONEBYNAME("Australia/Sydney") 
set HK  = DATETIMEZONEBYNAME("Asia/Hong_Kong")
set Lon = DATETIMEZONEBYNAME("Europe/London") 
set NY  = DATETIMEZONEBYNAME("America/New_York") 
set LA  = DATETIMEZONEBYNAME("America/Los_Angeles") 
set static_dt_tm = cnvtdatetime("02-FEB-2011 09:30:00")
set rec-&gt;loc = cnvtdatetimeRDB(static_dt_tm,4)
set rec-&gt;Aus = cnvtdatetimeRDB(static_dt_tm,4,Aus)
set rec-&gt;HK = cnvtdatetimeRDB(static_dt_tm,4,HK )
set rec-&gt;Lon = cnvtdatetimeRDB(static_dt_tm,4,Lon)
set rec-&gt;NY = cnvtdatetimeRDB(static_dt_tm,4,NY )
set rec-&gt;LA = cnvtdatetimeRDB(static_dt_tm,4,LA )
call echorecord(rec)
</pre>
</div></div><p>In the following example, cnvtdatetimeRDB() has no effect. Because the timezone_index is used, the time zone is temporarily set to Australia/Sydney or Europe/London. In a UTC environment, the cnvtdatetime() function returns the UTC <code>datetime</code> that represents 02-FEB-2011 09:30:00 in that time zone. Using Option 2 converts the <code>datetime</code> back to local.</p><div class="preformatted panel conf-macro output-block" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>set Aus = DATETIMEZONEBYNAME("Australia/Sydney") 
set Lon = DATETIMEZONEBYNAME("Europe/London")

select into "NL:"
	p.updt_dt_tm
from person p
where p.updt_dt_tm between cnvtdatetimerdb(cnvtdatetime("02-FEB-2011 09:30:00"),2,Aus)
		and cnvtdatetimerdb(cnvtdatetime("02-FEB-2011 09:30:00"),2,Lon)
with nocounter
</pre>
</div></div>
</div>
</div>



</div>

</main><!-- \#main -->
</div>
</div>
</div><!-- \#full-height-container -->
<!-- \#page -->
<span id="confluence-server-performance" style="display:none;">{"serverDuration": 672, "requestCorrelationId": "49e1ebcbe815cb94"}</span>
</body>
</html>
