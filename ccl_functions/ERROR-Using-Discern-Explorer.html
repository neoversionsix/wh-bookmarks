
<!DOCTYPE html>

<html lang="en-US">
<head>
<!-- Start SiteCatalyst code --><!-- End SiteCatalyst code -->


<title>ERROR Using Discern Explorer - Discern Help Pages - Cerner Wiki</title>






























<style>.ia-fixed-sidebar, .ia-splitter-left {width: 285px;}.theme-default .ia-splitter #main {margin-left: 285px;}.ia-fixed-sidebar {visibility: hidden;}</style>



</head>
<body class="theme-default aui-layout aui-theme-default" id="com-atlassian-confluence">
<div id="stp-licenseStatus-banner"></div>
<div id="workflow-page-status" style="display: none;"><fieldset class="hidden parameters">
<input id="stateName" type="hidden" value="Published"/><input id="hoverDescription" type="hidden" value="Published"/><input id="finalState" type="hidden" value="true"/><input id="hasFinalState" type="hidden" value="true"/><input id="publishedView" type="hidden" value="true"/><input id="taskable" type="hidden" value="false"/><input id="activeTasks" type="hidden" value="0"/><input id="pageAssignable" type="hidden" value="false"/><input id="workflowAdmin" type="hidden" value="false"/><input id="anonymous" type="hidden" value="true"/><input id="alternateViewStateName" type="hidden" value="View"/><input id="alternateViewUrl" type="hidden" value="/display/1101discernHP/ERROR+Using+Discern+Explorer?draft=true"/><input id="activityVisible" type="hidden" value="true"/><input id="approvalMinQuery" type="hidden" value="5"/><input id="showDocumentActivity" type="hidden" value="true"/><input id="alternateViewTitle" type="hidden" value="View latest version of page"/></fieldset></div>
<div style="display: none;"></div>









































<!-- CTSSOL-29742: Add Page To Book -->


<div id="page">
<div id="full-height-container">


<div class="ia-splitter">

<!-- \#header -->
<main class="aui-page-panel" id="main" role="main">
<!-- \#main-header -->
<div id="sidebar-container">
</div><!-- \#sidebar-container -->


<div class="page view" id="content">
<div id="action-messages">
</div>






<div class="wiki-content" id="main-content">
<div class="wiki-content">
<p>The ERROR( )  function returns the error code from the error that is on top of the Error stack. It returns <strong>0</strong> if the Error stack does not contain any errors. <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span> maintains an Error stack for each program execution. The error stack contains up to five errors. If more than five errors occur, the error stack contains the first four errors and the last error that occurred in the program. The last error that occurred is on the top of the Error stack. When the Error() function is called, the error that is on top of the Error stack is retrieved and cleared from the error stack. Using 1 for the error flag resets (clears) the entire Error stack. Using 0 as the error flag only clears the error that is on top of the Error stack. Each time the Error function is called, the error code is returned from the top of the Error stack, the errmsg parameter is set to the error message from the top of the error stack, and the error that is on top of the Error stack is removed. Fetching all errors, passing 1 as the flag parameter, or calling another program resets the Error stack. If errors occur in the called program, the Error stack contains those errors when control returns to the calling program.</p><div class="confluence-information-macro confluence-information-macro-information conf-macro output-block" data-hasbody="true" data-macro-name="info"><p class="title conf-macro-render">Notes</p><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><ul><li>The Error function should not be used in programs that are executed from System Operations.</li><li>Calling another program resets the Error stack. Any errors that occurred in the calling program are removed from the Error stack. If errors occur in the called program, the Error stack contains those errors when control returns to the calling program.</li></ul></div></div><h2 id="ERRORUsingDiscernExplorer-Syntax">Syntax</h2><div class="preformatted panel conf-macro output-block" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>ERROR(errmsg,flag)</pre>
</div></div><h2 id="ERRORUsingDiscernExplorer-Metasymbols">Metasymbols</h2><p><em>errmsg</em> </p><p>A C132, or VC data type variable or record item. The text of the error message is assigned to <em>errmsg</em>.</p><p><em>flag</em> </p><p>A constant or variable that determines whether the Error stack is reset. The following values are valid:</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh"><p>Value</p></th><th class="confluenceTh"><p>Description</p></th></tr><tr><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>Do not reset the stack.</p></td></tr><tr><td class="confluenceTd"><p>1</p></td><td class="confluenceTd"><p>Reset the stack.</p></td></tr></tbody></table></div><h2 id="ERRORUsingDiscernExplorer-Examples">Examples</h2><p>The following example uses the ERROR( ) function to return all error messages from the Error stack:</p><div class="preformatted panel conf-macro output-block" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>DECLARE ERRMSG = C132
DECLARE ERRCODE = I4 WITH NOCONSTANT(1)
WHILE (ERRCODE != 0)
     SET ERRCODE = ERROR(ERRMSG,0) ;don't reset error stack
     CALL ECHO(BUILD("Error number:",ERRCODE))
     CALL ECHO(ERRMSG)
ENDWHILE
</pre>
</div></div>
</div>
</div>



</div>

</main><!-- \#main -->
</div>
</div>
</div><!-- \#full-height-container -->
<!-- \#page -->
<span id="confluence-server-performance" style="display:none;">{"serverDuration": 555, "requestCorrelationId": "63d3d7992a36dfa8"}</span>
</body>
</html>
