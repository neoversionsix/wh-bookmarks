
<!DOCTYPE html>

<html lang="en-US">
<head>
<!-- Start SiteCatalyst code --><!-- End SiteCatalyst code -->


<title>DATEBIRTHFORMAT Using Discern Explorer - Discern Help Pages - Cerner Wiki</title>



























<style>.ia-fixed-sidebar, .ia-splitter-left {width: 285px;}.theme-default .ia-splitter #main {margin-left: 285px;}.ia-fixed-sidebar {visibility: hidden;}</style>



</head>
<body class="theme-default aui-layout aui-theme-default" id="com-atlassian-confluence">
<div id="stp-licenseStatus-banner"></div>
<div id="workflow-page-status" style="display: none;"><fieldset class="hidden parameters">
<input id="stateName" type="hidden" value="Published"/><input id="hoverDescription" type="hidden" value="Published"/><input id="finalState" type="hidden" value="true"/><input id="hasFinalState" type="hidden" value="true"/><input id="publishedView" type="hidden" value="true"/><input id="taskable" type="hidden" value="false"/><input id="activeTasks" type="hidden" value="0"/><input id="pageAssignable" type="hidden" value="false"/><input id="workflowAdmin" type="hidden" value="false"/><input id="anonymous" type="hidden" value="true"/><input id="alternateViewStateName" type="hidden" value="View"/><input id="alternateViewUrl" type="hidden" value="/display/1101discernHP/DATEBIRTHFORMAT+Using+Discern+Explorer?draft=true"/><input id="activityVisible" type="hidden" value="true"/><input id="approvalMinQuery" type="hidden" value="5"/><input id="showDocumentActivity" type="hidden" value="true"/><input id="alternateViewTitle" type="hidden" value="View latest version of page"/></fieldset></div>
<div style="display: none;"></div>









































<!-- CTSSOL-29742: Add Page To Book -->


<div id="page">
<div id="full-height-container">


<div class="ia-splitter">

<!-- \#header -->
<main class="aui-page-panel" id="main" role="main">
<!-- \#main-header -->
<div id="sidebar-container">
</div><!-- \#sidebar-container -->


<div class="page view" id="content">
<div id="action-messages">
</div>





<div class="wiki-content" id="main-content">
<div class="wiki-content">
<p>The DATEBIRTHFORMAT function returns the formatted birth datetime. By default, the formatted birth datetime is returned as a 128-character string. This function was introduced with <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span> versions 8.14.1 and 9.02.1.</p><h2 id="DATEBIRTHFORMATUsingDiscernExplorer-Syntax">Syntax</h2><div class="preformatted panel conf-macro output-block" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>DATEBIRTHFORMAT(rel_datetime, timezone_index, prec_flag, format_mask[,mode[,len]]) </pre>
</div></div><h2 id="DATEBIRTHFORMATUsingDiscernExplorer-Metasymbols">Metasymbols</h2><p><em>rel_datetime</em>   </p><p>A relative datetime value. Generally, birth_dt_tm is used. </p><p><em>timezone_index</em><br>An integer representing the time zone of the rel_datetime value. Generally, birth_tz is used.</br></p><p><em>prec_flag</em></p><p>The flag value that indicates the precision of the rel_datetime value. Generally, birth_prec_flag is used.</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Flag</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">0</td><td class="confluenceTd">Precise to the day</td></tr><tr><td class="confluenceTd">1</td><td class="confluenceTd">Precise to the date and time</td></tr><tr><td class="confluenceTd">2</td><td class="confluenceTd">Precise to the month</td></tr><tr><td class="confluenceTd" colspan="1">3</td><td class="confluenceTd" colspan="1">Precise to the year</td></tr></tbody></table></div><p>If prec_flag is <strong>0</strong>, time items in the format_mask are displayed as spaces. The Mode option is used to flex the display of the day and month when the prec_flag is <strong>2</strong> or <strong>3</strong>. <em><br/></em></p><p><em>format_mask</em> </p><p>A template defining how the birth datetime value is displayed.</p><p>Mask characters are case-sensitive (use lowercase except for the month, 24-hour clock, and zone name).</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col style="width: 73.0px;"/><col style="width: 500.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p>Mask</p></th><th class="confluenceTh"><p>Description</p></th></tr><tr><td class="confluenceTd"><p>d</p></td><td class="confluenceTd"><p>The day of the month as digits with no leading zero for single-digit days</p></td></tr><tr><td class="confluenceTd"><p>dd</p></td><td class="confluenceTd"><p>The day of the month as digits with a leading zero for single-digit days</p></td></tr><tr><td class="confluenceTd"><p>ddd</p></td><td class="confluenceTd"><p>The day of the week as a three-letter abbreviation</p></td></tr><tr><td class="confluenceTd"><p>dddd</p></td><td class="confluenceTd"><p>The day of the week as its full name</p></td></tr><tr><td class="confluenceTd"><p>M</p></td><td class="confluenceTd"><p>The month as digits with no leading zero for single-digit months</p></td></tr><tr><td class="confluenceTd"><p>MM</p></td><td class="confluenceTd"><p>The month as digits with a leading zero for single-digit months</p></td></tr><tr><td class="confluenceTd"><p>MMM</p></td><td class="confluenceTd"><p>The month as a three-letter abbreviation</p></td></tr><tr><td class="confluenceTd"><p>MMMM</p></td><td class="confluenceTd"><p>The month as its full name</p></td></tr><tr><td class="confluenceTd"><p>y</p></td><td class="confluenceTd"><p>The year as the last two digits, but with no leading zero for years less than 10</p></td></tr><tr><td class="confluenceTd"><p>yy</p></td><td class="confluenceTd"><p>The year as the last two digits, but with a leading zero for years less than 10</p></td></tr><tr><td class="confluenceTd"><p>yyyy</p></td><td class="confluenceTd"><p>The year represented by four digits</p></td></tr><tr><td class="confluenceTd"><p>gg</p></td><td class="confluenceTd"><p>The period or era string</p></td></tr><tr><td class="confluenceTd"><p>h</p></td><td class="confluenceTd"><p>Hours with no leading zero for single-digit hours (12-hour clock)</p></td></tr><tr><td class="confluenceTd"><p>hh</p></td><td class="confluenceTd"><p>Hours with a leading zero for single-digit hours (12-hour clock)</p></td></tr><tr><td class="confluenceTd"><p>H</p></td><td class="confluenceTd"><p>Hours with no leading zero for single-digit hours (24-hour clock)</p></td></tr><tr><td class="confluenceTd"><p>HH</p></td><td class="confluenceTd"><p>Hours with a leading zero for single-digit hours (24-hour clock)</p></td></tr><tr><td class="confluenceTd"><p>m</p></td><td class="confluenceTd"><p>Minutes with no leading zero for single-digit minutes</p></td></tr><tr><td class="confluenceTd"><p>mm</p></td><td class="confluenceTd"><p>Minutes with a leading zero for single-digit minutes</p></td></tr><tr><td class="confluenceTd"><p>s</p></td><td class="confluenceTd"><p>Seconds with no leading zero for single-digit seconds</p></td></tr><tr><td class="confluenceTd"><p>ss</p></td><td class="confluenceTd"><p>Seconds with a leading zero for single-digit seconds</p></td></tr><tr><td class="confluenceTd"><p>c</p></td><td class="confluenceTd"><p>Centiseconds with no leading zero for single-digit centiseconds</p></td></tr><tr><td class="confluenceTd"><p>cc</p></td><td class="confluenceTd"><p>Centiseconds with a leading zero for single-digit centiseconds</p></td></tr><tr><td class="confluenceTd"><p>i</p></td><td class="confluenceTd"><p>Milliseconds with no leading zero for single-digit milliseconds</p></td></tr><tr><td class="confluenceTd"><p>ii</p></td><td class="confluenceTd"><p>Milliseconds with a leading zero for single-digit milliseconds</p></td></tr><tr><td class="confluenceTd"><p>t</p></td><td class="confluenceTd"><p>A one-character time marker string, such as A or P</p></td></tr><tr><td class="confluenceTd" colspan="1">T</td><td class="confluenceTd" colspan="1"><div class="content-wrapper"><p>Beginning in <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span> versions 8.17.0 and 9.05.0 displays a literal T. Before <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span> versions 8.17.0 and 9.05.0 displays a one-character time marker string, such as A or P.</p></div></td></tr><tr><td class="confluenceTd"><p>tt</p></td><td class="confluenceTd"><p>A multiple-character time marker string, such as AM or PM</p></td></tr><tr><td class="confluenceTd"><p>ZZZZZZ</p></td><td class="confluenceTd"><p>The full zone name</p></td></tr><tr><td class="confluenceTd"><p>ZZZ</p></td><td class="confluenceTd"><p>The short zone name</p></td></tr></tbody></table></div><p>The format_mask can be in the format of @format_name, with the <strong>format_name</strong> in uppercase if it is set up correctly in the CCLFMT record structure. The CCLSTARTUP_LOCALE program defines the CCLFMT record structure. You can use CALL ECHORECORD(CCLFMT) to display the previously defined formats.</p><p>Beginning in versions 8.14.2 and 9.02.4, <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span> performs implicit context checking attempting to eliminate case sensitivity in the format_mask. However, use the case shown above for the mask characters and not assume that an implicit check corrects the case. Beginning in <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span> versions 8.14.4 and 9.02.4, a lowercase month character converts to uppercase M if minutes are used before month in the format mask.  <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span> versions 8.14.2, 8.14.3, 9.02.2, and 9.02.3 do not perform that conversion. <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span> versions 8.14.4 and 9.02.4 began using the locale month names set by the CCLSTARTUP_LOCALE program instead of the month abbreviation and full name returned from the SRV Calendar API.</p><p><em>mode</em></p><p>Used to flex the display of the day and month when the prec_flag is <strong>2</strong> or <strong>3</strong>.</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Mode</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">0</td><td class="confluenceTd"><p>The default mode.</p><p>Set day to <strong>1</strong> for a prec_flag of 2.</p><p>Set day to <strong>1</strong> and month to <strong>1</strong> (January) for a prec_flag of 3.</p></td></tr><tr><td class="confluenceTd">1</td><td class="confluenceTd"><p>Blank out the day for a prec_flag of 2.</p>Blank out the day and month for a prec_flag of 3.</td></tr></tbody></table></div><p><em>len</em></p><p>Introduced with <span class="conf-solution-name conf-macro output-inline" data-hasbody="false" data-macro-name="solution">Discern Explorer</span> versions 8.14.2 and 9.02.2 and used to specify the length of the string that is returned. If <em>len</em> is omitted, the default length of 128 characters is used. If <em>len</em> is <strong>0</strong>, the length of the format_mask is used; otherwise, the specified length is used.</p><h2 id="DATEBIRTHFORMATUsingDiscernExplorer-Examples">Examples</h2><p>The following example shows common usage of the DATEBIRTHFORMAT function:</p><div class="preformatted panel conf-macro output-block" data-hasbody="true" data-macro-name="noformat"><div class="preformattedContent panelContent">
<pre>SELECT into $outdev
    p.person_id
    , p.birth_dt_tm "dd-MMM-yyyy HH:mm:ss"
    , p.birth_tz
    , birth_tx_disp = datetimezonebyindex(p.birth_tz)
    , p.birth_prec_flag 
    , birth_prec_flag_disp = evaluate(p.birth_prec_flag,0,"day          "
                                                       ,1,"date and time"
                                                       ,2,"month        "
                                                       ,3,"year         ")
    , birth_fmt = DateBirthFormat(p.birth_dt_tm,p.birth_tz,p.birth_prec_flag,"dd-MMM-yyyy HH:mm:ss ZZZ")
    , birth_fmt_mode0 = DateBirthFormat(p.birth_dt_tm,p.birth_tz,p.birth_prec_flag,"dd-MMM-yyyy HH:mm:ss ZZZ",0,0)
    , birth_fmt_mode1 = DateBirthFormat(p.birth_dt_tm,p.birth_tz,p.birth_prec_flag,"dd-MMM-yyyy HH:mm:ss ZZZ",1,0)
FROM
    person   p

WHERE 
    p.updt_dt_tm between cnvtlookbehind("1,W") and cnvtdatetime(sysdate)
    and p.birth_dt_tm is not null
    and p.birth_tz is not null
WITH format, separator = " "</pre>
</div></div>
</div>
</div>



</div>

</main><!-- \#main -->
</div>
</div>
</div><!-- \#full-height-container -->
<!-- \#page -->
<span id="confluence-server-performance" style="display:none;">{"serverDuration": 551, "requestCorrelationId": "9cd654dac5732b85"}</span>
</body>
</html>
